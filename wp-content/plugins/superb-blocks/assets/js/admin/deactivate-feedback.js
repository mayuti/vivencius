(()=>{"use strict";!function(d){const a=d("#the-list").find('[data-plugin="'+superbaddonssettings_g.plugin+'"] span.deactivate a'),e=d(".superbaddons-admindashboard-modal-content .superbaddons-feedback-input input[type=radio]"),s=d("#superbaddons-feedback-text");let n=!1;e.change((function(){"other"==this.value?(s.prop("disabled",!1),s.show()):(s.prop("disabled",!0),s.hide()),n=d(this).data("temp")||!1})),a.on("click",(function(o){o.preventDefault(),(d=>{const a=jQuery(".superbaddons-admindashboard-modal-wrapper"),e=a.find(".superbaddons-admindashboard-modal-overlay"),s=a.find(".superbaddons-admindashboard-modal-close-button"),n=a.find(".superbaddons-admindashboard-modal-confirm-btn"),o=a.find(".superbaddons-admindashboard-modal-cancel-btn"),t=a.find(".superbaddons-admindashboard-modal-ok-btn"),i=a.find(".superbaddons-admindashboard-modal-title"),r=a.find(".superbaddons-admindashboard-modal-content"),c=a.find(".superbaddons-admindashboard-modal-header-spinner"),l=a.find(".superbaddons-admindashboard-modal-footer"),p=a.find(".superbaddons-element-separator"),b=d.stopCloseOnConfirm||!1,u=function(){let d=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.off(),o.off(),s.off(),e.off(),t.off(),jQuery(window).off("keydown.superbaddons-admin-modal"),d?a.hide():a.fadeOut("fast")};((d,h,m,f,g,w,k)=>{if(w||(jQuery(window).on("keydown.superbaddons-admin-modal",(d=>{27==(d.keyCode||d.which)&&u()})),s.click((()=>{u()})),e.click((()=>{u()}))),k)return c.show(),i.hide(),l.hide(),s.hide(),p.hide(),r.text(h),void a.fadeIn("fast");c.hide(),l.show(),i.show(),s.show(),p.show(),d&&i.text(d),h&&(Array.isArray(h)?(r.text(""),h.map((d=>{const a=jQuery("<div class='superbaddons-admindashboard-modal-content-item'></div>"),e=jQuery("<div class='superbaddons-admindashboard-modal-content-item-title'></div>"),s=jQuery("<div class='superbaddons-admindashboard-modal-content-item-content'></div>"),n=jQuery("<img class='superbaddons-admindashboard-modal-content-item-icon' />");superbaddonssettings_g&&(n.attr("src",d.shared?superbaddonssettings_g.modal.view_logs.icon_shared:superbaddonssettings_g.modal.view_logs.icon_unshared),n.attr("title",d.shared?superbaddonssettings_g.modal.view_logs.shared_title:superbaddonssettings_g.modal.view_logs.unshared_title));const o=new Date(1e3*d.time),t=o.toLocaleDateString()+" "+o.toLocaleTimeString();e.text(t+" (v."+d.version+"): "+d.title),e.prepend(n),s.text(d.stack),a.append(e),a.append(s),r.append(a)}))):r.text(h)),m?(n.show(),o.show(),t.hide(),n.click((async()=>{g?await m():m(),b||u()}))):(n.hide(),o.hide(),t.show(),t.click((()=>{b||u()}))),f?o.click((()=>{f(),u()})):o.click((()=>{u()})),a.fadeIn("fast")})(d.title||!1,d.content||!1,d.confirmCallback||!1,d.cancelCallback||!1,d.awaitConfirmCallback||!1,d.preventClosing||!1,d.isLoader||!1)})({awaitConfirmCallback:!0,confirmCallback:async function(){if(n)return location.href=a.attr("href"),!0;const o=d(".superbaddons-admindashboard-modal input, .superbaddons-admindashboard-modal button");return o.prop("disabled",!0),d(".superbaddons-admindashboard-modal-footer .superbaddons-spinner-wrapper").show(),e.filter(":checked").length&&await async function(d,a,e){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";const n=await fetch(d,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8","X-WP-Nonce":a},body:"action="+e+s});return 200!==n.status?{success:!1,text:"Unknown error occured. Please contact support if the issue persists."}:n.json()}(superbaddonssettings_g.rest.base+superbaddonssettings_g.rest.namespace+superbaddonssettings_g.rest.routes.settings,superbaddonssettings_g.rest.nonce,"submit_feedback","&spbaddons_reason="+e.filter(":checked").val()+"&spbaddons_other="+s.val()),o.prop("disabled",!1),d(".superbaddons-admindashboard-modal-footer .superbaddons-spinner-wrapper").hide(),location.href=a.attr("href"),!0},cancelCallback:async function(){return location.href=a.attr("href"),!0}})}))}(jQuery)})();